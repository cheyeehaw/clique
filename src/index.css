/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Layout stability ---- */
/* Keep a vertical scrollbar reserved so page width never shifts */
html, body, #root { height: 100%; }
body { overflow-y: scroll; scrollbar-gutter: stable both-edges; }

/* Make widths include borders to avoid 1px wiggles */
.tile, .react-grid-item { box-sizing: border-box; }

/* Allow children to shrink inside grid/flex rows */
.min-w-0 { min-width: 0 !important; }

/* --------------------------------
   Visual utilities
--------------------------------- */
.glass {
  background: rgba(255, 255, 255, 0.82);
  backdrop-filter: blur(12px);
}

.tile-shadow {
  box-shadow:
    0 24px 48px rgba(0, 0, 0, 0.18),
    0 2px 0 rgba(255, 255, 255, 0.6) inset;
}

.gradient-text {
  background-image: linear-gradient(90deg, #0ea5e9, #2563eb);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

@keyframes text-reveal {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
.text-reveal { animation: text-reveal .45s ease-out both; }
.text-reveal-delay-1 { animation-delay: .06s; }
.text-reveal-delay-2 { animation-delay: .12s; }
.text-reveal-delay-3 { animation-delay: .18s; }
.text-reveal-delay-4 { animation-delay: .24s; }

.scale-hover { transition: transform .25s ease; }
.scale-hover:hover { transform: scale(1.02); }

.lift-hover { transition: transform .25s ease, box-shadow .25s ease; }
.lift-hover:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0,0,0,.1); }

.glow-hover { transition: box-shadow .3s ease; }
.glow-hover:hover { box-shadow: 0 0 10px rgba(59,130,246,.4); }

@keyframes pulse-soft { 0%,100% { transform: scale(1); } 50% { transform: scale(1.01); } }
.pulse-hover:hover { animation: pulse-soft 1s ease-in-out; }

@media (prefers-reduced-motion: reduce) {
  .text-reveal { animation-duration: .01ms !important; animation-iteration-count: 1 !important; }
  .scale-hover, .lift-hover, .glow-hover, .pulse-hover { transition: none !important; animation: none !important; }
}

/* --------------------------------
   iCloud-style tile chrome
--------------------------------- */
.tile { border-radius: 1rem; overflow: hidden; }

.tile-chrome {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.tile-left { display: flex; align-items: center; gap: .5rem; }
.tile-title { font-weight: 700; color: #0f172a; }

.tile-drag {
  font-size: 18px; line-height: 1; padding: 2px 6px; border-radius: 9999px;
  background: rgba(15,23,42,0.06);
}

.tile-actions { display: flex; align-items: center; gap: .25rem; }
.tile-btn {
  width: 26px; height: 26px; border-radius: 9999px; display: grid; place-items: center;
  background: rgba(15,23,42,0.06);
}
.tile-btn:hover { background: rgba(15,23,42,0.12); }

.tile-body { padding: 12px; }

/* --------------------------------
   react-grid-layout tweaks
--------------------------------- */
.react-grid-item {
  transition: transform 200ms ease, width 200ms ease, height 200ms ease;
}
.react-grid-item.cssTransforms { transition: transform 200ms ease; }
.react-resizable-handle { z-index: 10; }

/* --------------------------------
   Bottom-center "Customize" pill
--------------------------------- */
.icloud-customize-btn {
  position: fixed;
  left: 50%;
  bottom: 24px;
  transform: translateX(-50%);
  padding: 10px 18px;
  border-radius: 9999px;
  background: rgba(255,255,255,0.9);
  color: #0f172a;
  font-weight: 600;
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 28px rgba(0,0,0,.18);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: box-shadow .2s ease, transform .2s ease, background-color .2s ease, color .2s ease;
}
.icloud-customize-btn:hover {
  box-shadow: 0 16px 32px rgba(0,0,0,.22);
  transform: translateX(-50%) translateY(-1px);
}
.icloud-customize-btn--active { background: #0ea5e9; color: #fff; }
.icloud-customize-dot { width: 6px; height: 6px; border-radius: 9999px; background: currentColor; }

/* During edit, reduce accidental selection in tiles */
body:has(.icloud-customize-btn[aria-pressed="true"]) .tile-body { user-select: none; }
/* Smooth modern scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: 9999px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,0.35);
}
@layer components {
  button {
    @apply rounded-full;
  }
}
